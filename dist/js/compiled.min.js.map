{"version":3,"sources":["index.js"],"names":["getWindowWidth","window","document","getSitewideHeader","getHeaderAnchor","getHeaderButton","getToggledNavigation","getSubMenu","getDropdownButton","getNavigationContainer","getAllNavMenu","getTopButton","debounce","i","closeNavigation","toggleTargetMenu","ariaControls","target","controlledAria","ariaHidden","context","args","callNow","immediate","clearTimeout","timeout","setTimeout","later","func","wait"],"mappings":"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","file":"compiled.min.js","sourcesContent":["// -- VARIABLES --\r\n\r\nconst getWindowWidth = () => {\r\n    return window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\r\n}\r\n\r\nconst getSitewideHeader = () => {\r\n    return document.getElementById('sitewide-header');\r\n}\r\n\r\nconst getHeaderAnchor = () => {\r\n    return getSitewideHeader().getElementsByTagName('a');\r\n}\r\n\r\nconst getHeaderButton = () => {\r\n    return getSitewideHeader().getElementsByTagName('button');\r\n}\r\n\r\nconst getToggledNavigation = () => {\r\n    return document.getElementById('toggled-navigation');\r\n}\r\n\r\nconst getSubMenu = () => {\r\n    return getToggledNavigation().getElementsByTagName('ul');\r\n}\r\n\r\nconst getDropdownButton = () => {\r\n    return getToggledNavigation().getElementsByTagName('button');\r\n}\r\n\r\nconst getNavigationContainer = () => {\r\n    return document.getElementById('navigation-container');\r\n}\r\n\r\nconst getAllNavMenu = () => {\r\n    return getNavigationContainer().getElementsByTagName('ul');\r\n}\r\n\r\nconst getTopButton = () => {\r\n    return document.getElementById('top-button');\r\n}\r\n\r\n// -- EVENT LISTENERS --\r\n\r\nwindow.addEventListener('resize', debounce(checkAria), 75);\r\n\r\nwindow.addEventListener('scroll', debounce(backToTop), 75);\r\n\r\nfor (var i = getHeaderAnchor().length - 1; i >= 0; i--) {\r\n    getHeaderAnchor()[i].addEventListener('click', anchorClick);\r\n}\r\n\r\nfor (var i = getHeaderButton().length - 1; i >= 0; i--) {\r\n    getHeaderButton()[i].addEventListener('click', buttonClick);\r\n}\r\n\r\n// -- REUSABLE FUNCTIONS --\r\n\r\n\r\n// -- CLOSE NAVIGATION --\r\n\r\nconst closeNavigation = () => {\r\n    getToggledNavigation().setAttribute('aria-hidden', 'true');\r\n    for (var i = getSubMenu().length - 1; i >= 0; i--) {\r\n        getSubMenu()[i].setAttribute('aria-hidden', 'true');\r\n    }\r\n    for (var i = getHeaderButton().length - 1; i >= 0; i--) {\r\n        getHeaderButton()[i].setAttribute('aria-expanded', 'false');\r\n    }\r\n}\r\n\r\n// -- TOGGLE TARGET MENU --\r\n\r\nconst toggleTargetMenu = (target) => {\r\n    let ariaControls = target.getAttribute('aria-controls'),\r\n    controlledAria = document.getElementById(ariaControls),\r\n    ariaHidden = controlledAria.getAttribute('aria-hidden');\r\n    if (ariaHidden == 'true') {\r\n        controlledAria.setAttribute('aria-hidden', 'false');\r\n        target.setAttribute('aria-expanded', 'true');\r\n    } else {\r\n        controlledAria.setAttribute('aria-hidden', 'true');\r\n        target.setAttribute('aria-expanded', 'false');\r\n    }\r\n}\r\n\r\n// -- ANCHOR CLICK --\r\n\r\nfunction anchorClick() {\r\n    closeNavigation();    \r\n}\r\n\r\n// -- BUTTON CLICK --\r\n\r\nfunction buttonClick({ target }) {\r\n    toggleTargetMenu(target);\r\n}\r\n\r\nfunction checkAria() {\r\n    if (getWindowWidth() < 768) {\r\n        for (var i = getAllNavMenu().length - 1; i >= 0; i--) {\r\n            getAllNavMenu()[i].setAttribute('aria-hidden', 'true');\r\n        }\r\n        for (var i = getHeaderButton().length - 1; i >= 0; i--) {\r\n            getHeaderButton()[i].setAttribute('aria-expanded', 'false');\r\n        }\r\n    } \r\n}\r\n\r\nfunction backToTop() {\r\n    if (document.documentElement.scrollTop > window.innerHeight) {\r\n        getTopButton().classList.add('show');\r\n    } else {\r\n        getTopButton().classList.remove('show');\r\n    }\r\n}\r\n\r\nfunction debounce(func, wait, immediate) {\r\n    var timeout;\r\n    return function() {\r\n        var context = this,\r\n            args = arguments;\r\n        var later = function() {\r\n            timeout = null;\r\n            if ( !immediate ) {\r\n                func.apply(context, args);\r\n            }\r\n        };\r\n        var callNow = immediate && !timeout;\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(later, wait || 100);\r\n        if ( callNow ) { \r\n            func.apply(context, args);\r\n        }\r\n    };\r\n};\r\n\r\n// function loadControls() {\r\n//     var sitewideHeader = document.getElementById('sitewide-header'),\r\n//     widthOfWindow = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\r\n//     headerAnchors = sitewideHeader.getElementsByTagName('a'),\r\n//     headerButtons = sitewideHeader.getElementsByTagName('button'),\r\n//     menuButton = document.getElementById('menu-button'),\r\n//     mainNavigation = document.getElementById('toggled-navigation');\r\n//     for (var i = headerAnchors.length - 1; i >= 0; i--) {\r\n//         headerAnchors[i].addEventListener('click', anchorClick);\r\n//     }\r\n//     for (var i = headerButtons.length - 1; i >= 0; i--) {\r\n//         headerButtons[i].addEventListener('click', buttonClick);\r\n//     }\r\n//     window.addEventListener('resize', debounce(checkAria, 100));\r\n//     window.addEventListener('scroll', debounce(backToTop, 100));\r\n// }\r\n\r\n// function anchorClick() {\r\n//     var sitewideHeader = document.getElementById('sitewide-header'),\r\n//     widthOfWindow = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\r\n//     mainNavigation = document.getElementById('toggled-navigation'),\r\n//     subMenus = mainNavigation.getElementsByTagName('ul'),\r\n//     dropdownButtons = mainNavigation.getElementsByTagName('button'),\r\n//     headerButtons = sitewideHeader.getElementsByTagName('button');\r\n//     mainNavigation.setAttribute('aria-hidden', 'true');\r\n//     for (var i = subMenus.length - 1; i >= 0; i--) {\r\n//         subMenus[i].setAttribute('aria-hidden', 'true');\r\n//     }\r\n//     for (var i = headerButtons.length - 1; i >= 0; i--) {\r\n//         headerButtons[i].setAttribute('aria-expanded', 'false');\r\n//     }\r\n// }\r\n\r\n// function buttonClick(e) {\r\n//     var clickTarget = e.target,\r\n//     widthOfWindow = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\r\n//     ariaControls = clickTarget.getAttribute('aria-controls'),\r\n//     controlledAria = document.getElementById(ariaControls),\r\n//     ariaHidden = controlledAria.getAttribute('aria-hidden');\r\n//     if (ariaHidden == 'true') {\r\n//         controlledAria.setAttribute('aria-hidden', 'false');\r\n//         clickTarget.setAttribute('aria-expanded', 'true');\r\n//     } else {\r\n//         controlledAria.setAttribute('aria-hidden', 'true');\r\n//         clickTarget.setAttribute('aria-expanded', 'false');\r\n//     }\r\n// }\r\n\r\n// function checkAria() {\r\n//     var widthOfWindow = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\r\n//     sitewideHeader = document.getElementById('sitewide-header'),\r\n//     navigationContainer = document.getElementById('navigation-container'),\r\n//     mainNavigation = document.getElementById('toggled-navigation'),\r\n//     headerButtons = sitewideHeader.getElementsByTagName('button'),\r\n//     navigationMenus = navigationContainer.getElementsByTagName('ul'),\r\n//     dropdownButtons = mainNavigation.getElementsByTagName('button'),\r\n//     subMenus = mainNavigation.getElementsByTagName('ul');\r\n//     if (widthOfWindow < 768) {\r\n//         for (var i = navigationMenus.length - 1; i >= 0; i--) {\r\n//             navigationMenus[i].setAttribute('aria-hidden', 'true');\r\n//         }\r\n//         for (var i = headerButtons.length - 1; i >= 0; i--) {\r\n//             headerButtons[i].setAttribute('aria-expanded', 'false');\r\n//         }\r\n//     } \r\n// }\r\n\r\n// function backToTop() {\r\n//     var topButton = document.getElementById('top-button');\r\n//     if (document.documentElement.scrollTop > window.innerHeight) {\r\n//         topButton.classList.add('show');\r\n//     } else {\r\n//         topButton.classList.remove('show');\r\n//     }\r\n// }\r\n\r\n// function debounce(func, wait, immediate) {\r\n//     var timeout;\r\n//     return function() {\r\n//         var context = this,\r\n//             args = arguments;\r\n//         var later = function() {\r\n//             timeout = null;\r\n//             if ( !immediate ) {\r\n//                 func.apply(context, args);\r\n//             }\r\n//         };\r\n//         var callNow = immediate && !timeout;\r\n//         clearTimeout(timeout);\r\n//         timeout = setTimeout(later, wait || 200);\r\n//         if ( callNow ) { \r\n//             func.apply(context, args);\r\n//         }\r\n//     };\r\n// };\r\n\r\n// window.onload = loadControls;\r\n\r\n"]}